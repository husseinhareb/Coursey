<!-- src/app/courses/courses.component.html -->

<div class="courses-header">
  <h2>{{ 'COURSES.TITLE' | translate }}</h2>
  <a
    *ngIf="isAdmin"
    routerLink="/courses/add"
    class="btn"
  >
    {{ 'COURSES.ADD' | translate }}
  </a>
</div>

<div *ngIf="loading">{{ 'COURSES.LOADING' | translate }}</div>
<div *ngIf="error" class="error">{{ error }}</div>

<table *ngIf="!loading && !error">
  <thead>
    <tr>
      <th>{{ 'COURSES.TABLE.TITLE'       | translate }}</th>
      <th>{{ 'COURSES.TABLE.CODE'        | translate }}</th>
      <th>{{ 'COURSES.TABLE.DESCRIPTION' | translate }}</th>
      <th>{{ 'COURSES.TABLE.BACKGROUND'  | translate }}</th>
      <th *ngIf="isAdmin">{{ 'COURSES.TABLE.ACTIONS' | translate }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of courses">
      <td>
        <a [routerLink]="['/courses', c.id]">
          {{ c.title }}
        </a>
      </td>
      <td>{{ c.code }}</td>
      <td>{{ c.description }}</td>
      <td>{{ c.background || '-' }}</td>
      <td *ngIf="isAdmin">
        <button (click)="edit(c.id)">{{ 'COURSES.EDIT'   | translate }}</button>
        <button (click)="delete(c.id)">{{ 'COURSES.DELETE' | translate }}</button>
      </td>
    </tr>
  </tbody>
</table>
