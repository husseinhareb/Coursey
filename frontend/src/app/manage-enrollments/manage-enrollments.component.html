<!-- src/app/users/manage-enrollments.component.html -->

<h2>{{ 'USERS.MANAGE_ENROLLMENTS.TITLE' | translate }}</h2>

<div *ngIf="loading" class="status">
  {{ 'USERS.MANAGE_ENROLLMENTS.LOADING' | translate }}
</div>
<div *ngIf="error" class="status status--error">
  {{ error }}
</div>

<div *ngIf="!loading && isTargetAdmin" class="warning">
  {{ 'USERS.MANAGE_ENROLLMENTS.CANNOT_ENROLL_ADMIN' | translate }}
</div>

<table *ngIf="!loading && !isTargetAdmin" class="enroll-table">
  <thead>
    <tr>
      <th>{{ 'USERS.MANAGE_ENROLLMENTS.TABLE.COURSE'   | translate }}</th>
      <th>{{ 'USERS.MANAGE_ENROLLMENTS.TABLE.ENROLLED' | translate }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of courses">
      <td>{{ c.title }}</td>
      <td>
        <input
          type="checkbox"
          #cb
          [checked]="enrollments.has(c.id)"
          (change)="toggle(c.id, cb.checked)"
        />
      </td>
    </tr>
  </tbody>
</table>
