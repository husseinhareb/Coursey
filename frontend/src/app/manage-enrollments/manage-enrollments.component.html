<!-- src/app/users/manage-enrollments.component.html -->

<h2>Manage Enrollments</h2>

<div *ngIf="loading">Loadingâ€¦</div>
<div *ngIf="error" class="error">{{ error }}</div>

<div *ngIf="!loading && isTargetAdmin" class="warning">
  Cannot enroll an admin in any courses.
</div>

<table *ngIf="!loading && !isTargetAdmin">
  <thead>
    <tr>
      <th>Course</th>
      <th>Enrolled</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of courses">
      <td>{{ c.title }}</td>
      <td>
        <!-- disable checkbox for admins -->
        <input
          type="checkbox"
          #cb
          [checked]="enrollments.has(c.id)"
          (change)="toggle(c.id, cb.checked)"
        />
      </td>
    </tr>
  </tbody>
</table>
