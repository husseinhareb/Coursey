<!-- src/app/submission/submission-form.component.html -->
<div class="submission-form-card">
  <header class="submission-form-header">
    <i class="fas fa-upload"></i>
    <h4>{{ 'SUBMISSION.FORM.TITLE' | translate }}</h4>
  </header>

  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="submission-form-body">
    <div class="form-group">
      <label for="fileInput">
        <i class="fas fa-file-upload"></i>
        {{ 'SUBMISSION.FORM.LABEL' | translate }}
      </label>
      <input
        id="fileInput"
        type="file"
        (change)="onFileSelected($event)"
        accept="*/*"
        required
      />
    </div>

    <div class="form-actions">
      <button
        type="submit"
        class="btn btn--primary"
        [disabled]="form.invalid || loading"
      >
        <i class="fas" [ngClass]="loading ? 'fa-spinner fa-spin' : 'fa-paper-plane'"></i>
        {{ loading 
           ? ('SUBMISSION.FORM.SENDING' | translate) 
           : ('SUBMISSION.FORM.SUBMIT'  | translate)
        }}
      </button>
      <button
        type="button"
        (click)="cancel.emit()"
        class="btn btn--secondary"
      >
        <i class="fas fa-times"></i>
        {{ 'SUBMISSION.FORM.CANCEL' | translate }}
      </button>
    </div>

    <div *ngIf="error" class="submission-form-error">
      <i class="fas fa-exclamation-circle"></i>
      {{ error }}
    </div>
  </form>
</div>
