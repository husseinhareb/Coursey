<!-- src/app/users/user-detail.component.html -->

<div *ngIf="loading">Loading user…</div>
<div *ngIf="error" class="error">{{ error }}</div>

<article *ngIf="user" class="user-detail">
  <img
    *ngIf="user.profile.profilePic"
    [src]="user.profile.profilePic"
    alt="Avatar"
    class="user-detail-avatar"
  />

  <h2>{{ user.profile.firstName }} {{ user.profile.lastName }}</h2>
  <p><strong>Email:</strong> {{ user.email }}</p>

  <!-- new: Roles -->
  <p *ngIf="user.roles?.length">
    <strong>Roles:</strong>
    <span *ngFor="let r of user.roles; let last = last">
      {{ r }}<span *ngIf="!last">, </span>
    </span>
  </p>

  <!-- new: Enrolled Courses -->
  <section *ngIf="enrolledCourses.length">
    <h3>Enrolled Courses</h3>
    <ul>
      <li *ngFor="let c of enrolledCourses">
        {{ c.code }} — {{ c.title }}
      </li>
    </ul>
  </section>
</article>
