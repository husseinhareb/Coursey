<!-- src/app/users/user-detail.component.html -->

<div *ngIf="loading" class="status">
  {{ 'USER_DETAIL.LOADING' | translate }}
</div>
<div *ngIf="error" class="status status--error">
  {{ error || ('USER_DETAIL.ERROR' | translate) }}
</div>

<article *ngIf="user" class="user-detail">
  <img
    *ngIf="user.profile.profilePic"
    [src]="user.profile.profilePic"
    alt="{{ 'USER_DETAIL.AVATAR_ALT' | translate }}"
    class="user-detail-avatar"
  />

  <h2>
    {{ user.profile.firstName }} {{ user.profile.lastName }}
  </h2>
  <p>
    <strong>{{ 'USER_DETAIL.EMAIL_LABEL' | translate }}</strong>
    {{ user.email }}
  </p>

  <p *ngIf="user.roles?.length">
    <strong>{{ 'USER_DETAIL.ROLES_LABEL' | translate }}</strong>
    <span *ngFor="let r of user.roles; let last = last">
      {{ r }}<span *ngIf="!last">, </span>
    </span>
  </p>

  <section *ngIf="enrolledCourses.length">
    <h3>{{ 'USER_DETAIL.ENROLLED_TITLE' | translate }}</h3>
    <ul>
      <li *ngFor="let c of enrolledCourses">
        {{ c.code }} â€” {{ c.title }}
      </li>
    </ul>
  </section>
</article>
